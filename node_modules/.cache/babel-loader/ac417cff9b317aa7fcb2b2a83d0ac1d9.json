{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createVNode as _createVNode, unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mx-auto p-4 md:w-11/12 grid grid-cols-1 gap-8\"\n};\nconst _hoisted_2 = {\n  class: \"text-xl font-semibold\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"span\", null, \"CARD |\", -1);\nconst _hoisted_4 = {\n  class: \"text-teal-500\"\n};\nconst _hoisted_5 = {\n  class: \"grid grid-cols-1 md:grid-cols-3 md:grid-flow-col gap-4 gap-x-8 2xl:gap-y-0\"\n};\nimport PersonalInformation from './doctor/PersonalInformation.vue';\nimport WifeComponent from './doctor/WifeComponent.vue';\nimport ChildrenComponent from './doctor/ChildrenComponent.vue';\nimport BillComponent from './doctor/BillComponent.vue';\nimport NavBar from './doctor/NavBar.vue';\nimport { onMounted, ref } from '@vue/runtime-core';\nimport { useVisiteStore } from \"@/pinia/useVisite\";\nimport { useRouter, useRoute } from 'vue-router';\nimport { reactive, computed } from 'vue';\nexport default {\n  __name: 'MyAppointement',\n  setup(__props) {\n    /* eslint-disable */\n    const router = useRouter();\n    const appointement = useVisiteStore();\n    const isAuthentificated = appointement.checkIsAuthenticated();\n    if (isAuthentificated == false) {\n      router.push('/visite/login');\n    }\n    //part declarations\n    const childrensRef = ref([]);\n    const couplesRef = ref([]);\n    const pourcentRef = ref(0);\n    const otherRef = ref({});\n    const priceRef = ref(0);\n    const priceCalculatedRef = ref(0);\n    const isAuthentificatedRef = ref(false);\n\n    //methodes\n\n    const searchAccount = async uuid => {\n      const account = await fetch(`https://backend.assuranceiso.com/api/account/findByUuid/${uuid}`).then(r => r.json());\n      const {\n        childrens,\n        couples,\n        pourcent,\n        ...other\n      } = account;\n      childrensRef.value = childrens.length > 0 ? childrens : [];\n      couplesRef.value = couples.length > 0 ? couples : [];\n      pourcentRef.value = pourcent;\n      otherRef.value = other;\n      //part  store intialization\n      appointement.addPersonalInfromation(other);\n      appointement.addOriginalChildrens(childrens);\n      appointement.addOriginalCouples(couples);\n    };\n    const billCalculator = price => {\n      const priceCalculated = price - price * (pourcentRef.value / 100);\n      priceCalculatedRef.value = priceCalculated;\n      priceRef.value = price;\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(NavBar, {\n        onCustomChange: searchAccount\n      }), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_createElementVNode(\"h1\", _hoisted_2, _toDisplayString(_unref(otherRef).name + ' ' + _unref(otherRef).surname ? _unref(otherRef).surname : ''), 1), _hoisted_3, _createTextVNode(), _createElementVNode(\"span\", _hoisted_4, _toDisplayString(_unref(otherRef).uuid ? _unref(otherRef).uuid : ''), 1)]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(PersonalInformation, {\n        personal: _unref(otherRef)\n      }, null, 8, [\"personal\"]), _createVNode(WifeComponent, {\n        couples: _unref(couplesRef)\n      }, null, 8, [\"couples\"]), _createVNode(ChildrenComponent, {\n        childrens: _unref(childrensRef)\n      }, null, 8, [\"childrens\"])]), _createElementVNode(\"div\", null, [_createVNode(BillComponent, {\n        onBillChange: billCalculator,\n        price: _unref(priceRef),\n        priceCalculated: _unref(priceCalculatedRef)\n      }, null, 8, [\"price\", \"priceCalculated\"])])])]);\n    };\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AA4BA,OAAOA,mBAAmB,MAAM,kCAAkC;AAClE,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,MAAM,MAAM,qBAAqB;AACxC,SAASC,SAAS,EAAEC,GAAG,QAAQ,mBAAmB;AAClD,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;AAChD,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,KAAK;;;;IATxC;IAUA,MAAMC,MAAM,GAACJ,SAAS,EAAE;IAExB,MAAMK,YAAY,GAAGN,cAAc,EAAE;IACrC,MAAMO,iBAAiB,GAAED,YAAY,CAACE,oBAAoB,EAAE;IAC5D,IAAGD,iBAAiB,IAAE,KAAK,EAAC;MAAEF,MAAM,CAACI,IAAI,CAAC,eAAe,CAAC;IAAC;IAC3D;IACC,MAAMC,YAAY,GAACX,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMY,UAAU,GAACZ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMa,WAAW,GAACb,GAAG,CAAC,CAAC,CAAC;IACxB,MAAMc,QAAQ,GAACd,GAAG,CAAC,CAAC,CAAC,CAAC;IACtB,MAAMe,QAAQ,GAACf,GAAG,CAAC,CAAC,CAAC;IACrB,MAAMgB,kBAAkB,GAAChB,GAAG,CAAC,CAAC,CAAC;IAC/B,MAAMiB,oBAAoB,GAACjB,GAAG,CAAC,KAAK,CAAC;;IAEtC;;IAEA,MAAMkB,aAAa,GAAC,MAAOC,IAAI,IAAG;MAEjC,MAAMC,OAAO,GAAG,MAAMC,KAAK,CAAE,2DAA0DF,IAAK,EAAC,CAAC,CAACG,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,EAAE,CAAC;MAEpH,MAAM;QAACC,SAAS;QAACC,OAAO;QAACC,QAAQ;QAAC,GAAGC;MAAK,CAAC,GAACR,OAAO;MAEnDT,YAAY,CAACkB,KAAK,GAACJ,SAAS,CAACK,MAAM,GAAG,CAAC,GAACL,SAAS,GAAC,EAAE;MACpDb,UAAU,CAACiB,KAAK,GAACH,OAAO,CAACI,MAAM,GAAG,CAAC,GAACJ,OAAO,GAAC,EAAE;MAC9Cb,WAAW,CAACgB,KAAK,GAACF,QAAQ;MAC1Bb,QAAQ,CAACe,KAAK,GAACD,KAAK;MACpB;MACDrB,YAAY,CAACwB,sBAAsB,CAACH,KAAK,CAAC;MAC1CrB,YAAY,CAACyB,oBAAoB,CAACP,SAAS,CAAC;MAC5ClB,YAAY,CAAC0B,kBAAkB,CAACP,OAAO,CAAC;IACxC,CAAC;IAED,MAAMQ,cAAc,GAAEC,KAAK,IAAG;MAC7B,MAAMC,eAAe,GAACD,KAAK,GAAEA,KAAK,IAAEtB,WAAW,CAACgB,KAAK,GAAC,GAAG,CAAE;MAC3Db,kBAAkB,CAACa,KAAK,GAACO,eAAe;MACxCrB,QAAQ,CAACc,KAAK,GAACM,KAAK;IACrB,CAAC","names":["PersonalInformation","WifeComponent","ChildrenComponent","BillComponent","NavBar","onMounted","ref","useVisiteStore","useRouter","useRoute","reactive","computed","router","appointement","isAuthentificated","checkIsAuthenticated","push","childrensRef","couplesRef","pourcentRef","otherRef","priceRef","priceCalculatedRef","isAuthentificatedRef","searchAccount","uuid","account","fetch","then","r","json","childrens","couples","pourcent","other","value","length","addPersonalInfromation","addOriginalChildrens","addOriginalCouples","billCalculator","price","priceCalculated"],"sources":["/Users/you/Desktop/work_dev/inso-frontend-master/src/components/MyAppointement.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <NavBar @custom-change=\"searchAccount\" />\r\n    <div class=\"container mx-auto p-4 md:w-11/12 grid grid-cols-1  gap-8\">\r\n      <!-- Information card-->\r\n      <div>\r\n        <h1 class=\"text-xl font-semibold\">{{ otherRef.name +' '+otherRef.surname ?otherRef.surname:'' }}</h1>\r\n        <span>CARD |</span> <span class=\" text-teal-500\">{{ otherRef.uuid?otherRef.uuid:'' }}</span>\r\n      </div>\r\n      <!-- Information perssonal and wives and children-->\r\n      <div class=\"grid grid-cols-1 md:grid-cols-3 md:grid-flow-col gap-4 gap-x-8   2xl:gap-y-0\">\r\n        <PersonalInformation :personal=\"otherRef\" />\r\n        <WifeComponent :couples=\"couplesRef\" />\r\n        <ChildrenComponent :childrens=\"childrensRef\" />\r\n      </div>\r\n      <!-- Information bill-->\r\n      <div>\r\n        <BillComponent @bill-change=\"billCalculator\" \r\n        :price=\"priceRef\"\r\n        :priceCalculated=\"priceCalculatedRef\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\n/* eslint-disable */\r\nimport PersonalInformation from './doctor/PersonalInformation.vue';\r\nimport WifeComponent from './doctor/WifeComponent.vue';\r\nimport ChildrenComponent from './doctor/ChildrenComponent.vue';\r\nimport BillComponent from './doctor/BillComponent.vue';\r\nimport NavBar from './doctor/NavBar.vue'\r\nimport { onMounted, ref } from '@vue/runtime-core';\r\nimport { useVisiteStore } from \"@/pinia/useVisite\";\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { reactive, computed } from 'vue'\r\nconst router=useRouter()\r\n\r\nconst appointement = useVisiteStore();\r\nconst isAuthentificated= appointement.checkIsAuthenticated()\r\nif(isAuthentificated==false){ router.push('/visite/login') }\r\n//part declarations\r\n const childrensRef=ref([])\r\n const couplesRef=ref([])\r\n const pourcentRef=ref(0)\r\n const otherRef=ref({})\r\n const priceRef=ref(0)\r\n const priceCalculatedRef=ref(0)\r\n const isAuthentificatedRef=ref(false)\r\n\r\n//methodes\r\n\r\nconst searchAccount=async (uuid)=>{\r\n\r\n const account = await fetch(`https://backend.assuranceiso.com/api/account/findByUuid/${uuid}`).then((r) => r.json());\r\n\r\n const {childrens,couples,pourcent,...other}=account\r\n\r\n childrensRef.value=childrens.length > 0?childrens:[]\r\n couplesRef.value=couples.length > 0?couples:[]\r\n pourcentRef.value=pourcent\r\n otherRef.value=other\r\n //part  store intialization\r\nappointement.addPersonalInfromation(other)\r\nappointement.addOriginalChildrens(childrens)\r\nappointement.addOriginalCouples(couples)\r\n}\r\n\r\nconst billCalculator=(price)=>{\r\n const priceCalculated=price-(price*(pourcentRef.value/100))\r\n priceCalculatedRef.value=priceCalculated\r\n priceRef.value=price\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.rectangle-viste {\r\n  height: 330px;\r\n}\r\n@media screen and (max-width: 600px) {\r\n  .rectangle-viste {\r\n  height: 440px !important;\r\n  padding-bottom: 100px !important;\r\n\r\n}\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}