{"ast":null,"code":"import RequestUser from \"@/services/RequestUser\";\nimport { mapMutations } from 'vuex';\nimport { toast } from 'vue3-toastify';\nimport 'vue3-toastify/dist/index.css';\nexport default {\n  data() {\n    return {\n      cardName: \"click to upload a photo of your id\",\n      op: 0\n    };\n  },\n  methods: {\n    chowIdName(e) {\n      this.cardName = e.target.files.item(0).name;\n    },\n    hideModal() {\n      this.SET_showModal(false);\n    },\n    ...mapMutations(['SET_showModal']),\n    subForm() {\n      if (this.$refs.name.value == \"\" || this.$refs.surname.value == \"\" || this.$refs.phone_number.value == \"\" || this.$refs.card_id.files.length == 0) {\n        this.op = 1;\n      } else {\n        this.op = 0;\n        let msg = this.$store.getters.getT(\"Your request has been processed successfully\");\n        RequestUser.requestCard({\n          \"name\": this.$refs.name.value,\n          \"card_id\": this.$refs.card_id.files.item(0),\n          \"phone_number\": this.$refs.phone_number.value,\n          \"type\": this.$refs.cardType.value,\n          \"surname\": this.$refs.surname.value\n        }).then(function () {\n          document.getElementById('modalIso').style.display = \"none\";\n          toast.success(msg, {\n            autoClose: 6000,\n            closeButton: true,\n            hideProgressBar: false,\n            position: toast.POSITION.TOP_CENTER,\n            theme: toast.THEME.COLORED\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAuDI,OAAOA,WAAU,MAAO,wBAAuB;AAC/C,SAASC,YAAY,QAAO,MAAK;AACjC,SAASC,KAAI,QAAS,eAAe;AACrC,OAAO,8BAA8B;AACrC,eAAe;EACXC,IAAI,GAAE;IACF,OAAM;MACFC,QAAQ,EAAC,oCAAoC;MAC7CC,EAAE,EAAC;IACP;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,UAAU,CAACC,CAAC,EAAC;MACT,IAAI,CAACJ,QAAQ,GAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,IAAG;IAC5C,CAAC;IACDC,SAAS,GAAE;MACP,IAAI,CAACC,aAAa,CAAC,KAAK;IAC5B,CAAC;IACD,GAAGb,YAAY,CAAC,CACZ,eAAe,CAClB,CAAC;IACFc,OAAO,GAAE;MACL,IAAI,IAAI,CAACC,KAAK,CAACJ,IAAI,CAACK,KAAK,IAAE,EAAE,IACzB,IAAI,CAACD,KAAK,CAACE,OAAO,CAACD,KAAK,IAAE,EAAE,IAC5B,IAAI,CAACD,KAAK,CAACG,YAAY,CAACF,KAAK,IAAE,EAAE,IACjC,IAAI,CAACD,KAAK,CAACI,OAAO,CAACV,KAAK,CAACW,MAAK,IAAK,GACrC;QACE,IAAI,CAAChB,EAAE,GAAC;MACZ,OAAO;QACH,IAAI,CAACA,EAAE,GAAC;QACR,IAAIiB,GAAE,GAAI,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC,8CAA8C;QACjFzB,WAAW,CAAC0B,WAAW,CAAC;UACpB,MAAM,EAAC,IAAI,CAACV,KAAK,CAACJ,IAAI,CAACK,KAAK;UAC5B,SAAS,EAAC,IAAI,CAACD,KAAK,CAACI,OAAO,CAACV,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;UAC1C,cAAc,EAAC,IAAI,CAACK,KAAK,CAACG,YAAY,CAACF,KAAK;UAC5C,MAAM,EAAC,IAAI,CAACD,KAAK,CAACW,QAAQ,CAACV,KAAK;UAChC,SAAS,EAAC,IAAI,CAACD,KAAK,CAACE,OAAO,CAACD;QACjC,CAAC,CAAC,CAACW,IAAI,CAAC,YAAU;UAEdC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,KAAK,CAACC,OAAO,GAAC,MAAK;UACvD9B,KAAK,CAAC+B,OAAO,CAACX,GAAG,EAAE;YACnBY,SAAS,EAAE,IAAI;YACfC,WAAW,EAAC,IAAI;YAChBC,eAAe,EAAC,KAAK;YACrBC,QAAQ,EAACnC,KAAK,CAACoC,QAAQ,CAACC,UAAU;YAClCC,KAAK,EAACtC,KAAK,CAACuC,KAAK,CAACC;UAClB,CAAC,CAAC;QACN,CAAC,EACAC,KAAK,CAAC,UAASC,KAAK,EAAC;UAClBC,OAAO,CAACC,GAAG,CAACF,KAAK;QACrB,CAAC,CAAC;MACN;IAEJ;EACJ;AACJ","names":["RequestUser","mapMutations","toast","data","cardName","op","methods","chowIdName","e","target","files","item","name","hideModal","SET_showModal","subForm","$refs","value","surname","phone_number","card_id","length","msg","$store","getters","getT","requestCard","cardType","then","document","getElementById","style","display","success","autoClose","closeButton","hideProgressBar","position","POSITION","TOP_CENTER","theme","THEME","COLORED","catch","error","console","log"],"sourceRoot":"","sources":["/Users/you/Desktop/work_dev/inso-frontend-master/src/components/MainContant/CardRequest.vue"],"sourcesContent":["<template>\n    <div class=\"w-full\">\n        <div class=\"w-full flex justify-end\">\n            <button class=\"m-3\" @click=\"hideModal()\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"36.841\" viewBox=\"0 0 39.297 36.841\">\n                    <path id=\"undo_FILL0_wght400_GRAD0_opsz48\" d=\"M33.052,44.841H15.368V41.157H33.113a10.548,10.548,0,0,0,7.4-2.855,9.249,9.249,0,0,0,3.1-7.092,9.249,9.249,0,0,0-3.1-7.092,10.548,10.548,0,0,0-7.4-2.855H15l7,7-2.579,2.579L8,19.421,19.421,8,22,10.579l-7,7H33.052a14.2,14.2,0,0,1,10.039,3.93,12.749,12.749,0,0,1,4.206,9.7,12.749,12.749,0,0,1-4.206,9.7A14.2,14.2,0,0,1,33.052,44.841Z\" transform=\"translate(-8 -8)\" fill=\"#22c7e5\"/>\n                </svg>\n            </button>\n        </div>\n        <h5 class=\"text-center mb-3 text-black text-lg font-semibold\" style=\"color: var(--nav-bgc);\">{{$store.getters.getT(\"Card Request\")}}</h5>\n        <small class=\"mb-4 text-red-500 text-center\" :class=\"op==1?'opacity-100':'opacity-0'\">{{$store.getters.getT(\"errorMsg\")}}</small>\n        <form >\n            \n        </form>\n            <div class=\"my-4\">\n                <label for=\"name\" class=\"text-gray-700\">{{$store.getters.getT(\"FirstName\")}}</label>\n                <input required type=\"text\" class=\"text-black block border w-full rounded-md p-2\" name=\"name\" ref=\"name\" :placeholder=\"$store.getters.getT('FirstName')\" id=\"name\">\n            </div>\n            <div class=\"mb-4\">\n                <label for=\"surname\" class=\"text-gray-700\">{{$store.getters.getT(\"LastName\")}}</label>\n                <input required type=\"text\" class=\"text-black block border w-full rounded-md p-2\" :placeholder=\"$store.getters.getT('LastName')\" ref=\"surname\" name=\"surname\" id=\"surname\">\n            </div>\n            <div class=\"mb-4\">\n                <label for=\"phone_number\" class=\"text-gray-700\">{{$store.getters.getT(\"Phone\")}}</label>\n                <input required type=\"number\" inputmode=\"numeric\" pattern=\"[0-9]*\" min=\"0\" class=\"text-black block border w-full rounded-md p-2\" :placeholder=\"$store.getters.getT('Phone')\" ref=\"phone_number\" name=\"phone_number\" id=\"phone_number\">\n            </div>\n            <div class=\"mb-4\">\n                <label for=\"cardType\" class=\"text-gray-700\">{{$store.getters.getT(\"Card Type\")}}</label>\n                <select name=\"cardType\" id=\"cardType\" ref=\"cardType\" class=\"border w-full rounded-md p-2\">\n                    <option value=\"bronze\">{{$store.getters.getT(\"Bronze\")}}</option>\n                    <option value=\"silver\">{{$store.getters.getT(\"Silver\")}}</option>\n                    <option value=\"gold\">{{$store.getters.getT(\"Golden\")}}</option>\n                </select>\n            </div>\n            <div class=\"mb-4\">\n                <label for=\"card_id\" class=\"text-gray-700\">{{$store.getters.getT(\"Id Photo\")}}</label>\n                <div class=\"block border w-full rounded-md py-1 border-dashed relative\">\n                    <span class=\"absolute px-2 whitespace-nowrap overflow-hidden overflow-ellipsis w-full\">{{$store.getters.getT(cardName)}}</span>\n                    <input required type=\"file\" @change=\"(chowIdName)\" class=\"w-full opacity-0\" name=\"card_id\" ref=\"card_id\" id=\"card_id\" accept=\"image/*\">\n                </div>\n            </div>\n            <div class=\"my-4 w-full flex justify-center\">\n                <button @click=\"subForm()\" type=\"submit\" class=\"py-2 px-3 mx-auto text-white rounded-3xl uppercase\" style=\"background-color: var(--nav-bgc);\">{{$store.getters.getT(\"Send Request\")}}</button>\n            </div>\n        \n    </div>\n</template>\n<style>\n    input[type=\"number\"]::-webkit-inner-spin-button,\n  input[type=\"number\"]::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n</style>\n<script>\n    import RequestUser from \"@/services/RequestUser\"\n    import { mapMutations} from 'vuex'\n    import { toast } from 'vue3-toastify';\n    import 'vue3-toastify/dist/index.css';\n    export default {\n        data(){\n            return{\n                cardName:\"click to upload a photo of your id\",\n                op:0\n            }\n        },\n        methods: {\n            chowIdName(e){\n                this.cardName=e.target.files.item(0).name\n            },\n            hideModal(){\n                this.SET_showModal(false)\n            },\n            ...mapMutations([\n                'SET_showModal', \n            ]),\n            subForm(){\n                if (this.$refs.name.value==\"\"||\n                    this.$refs.surname.value==\"\"||\n                    this.$refs.phone_number.value==\"\"||\n                    this.$refs.card_id.files.length == 0\n                ) {\n                    this.op=1\n                } else {\n                    this.op=0\n                    let msg = this.$store.getters.getT(\"Your request has been processed successfully\")\n                    RequestUser.requestCard({\n                        \"name\":this.$refs.name.value,\n                        \"card_id\":this.$refs.card_id.files.item(0),\n                        \"phone_number\":this.$refs.phone_number.value,\n                        \"type\":this.$refs.cardType.value,\n                        \"surname\":this.$refs.surname.value\n                    }).then(function(){\n                        \n                        document.getElementById('modalIso').style.display=\"none\"\n                        toast.success(msg, {\n                        autoClose: 6000,\n                        closeButton:true,\n                        hideProgressBar:false,\n                        position:toast.POSITION.TOP_CENTER,\n                        theme:toast.THEME.COLORED\n                        }); \n                    })\n                    .catch(function(error){\n                        console.log(error)\n                    });\n                }\n                \n            }\n        }\n    }\n</script>"]},"metadata":{},"sourceType":"module"}